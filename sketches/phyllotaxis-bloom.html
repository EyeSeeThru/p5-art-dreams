<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phyllotaxis Bloom</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <style>
    body { margin: 0; padding: 0; overflow: hidden; background: #050505; }
    canvas { display: block; }
  </style>
</head>
<body>
<script>
// Phyllotaxis Bloom - Emergent spiral patterns
// Explores the golden angle with dynamic scaling and color evolution

let t = 0;
const MAX_POINTS = 800;

function setup() {
  createCanvas(windowWidth, windowHeight);
  colorMode(HSB, 360, 100, 100, 1);
}

function draw() {
  background(0, 0, 3);
  
  translate(width / 2, height / 2);
  
  // Golden angle in degrees
  let goldenAngle = 137.5;
  
  // Dynamic parameters
  let scale = map(sin(t * 0.2), -1, 1, 4, 8);
  let angleOffset = sin(t * 0.1) * 0.5;
  let hueBase = map(sin(t * 0.15), -1, 1, 0, 360);
  
  // Draw phyllotaxis pattern
  for (let i = 0; i < MAX_POINTS; i++) {
    let angle = i * goldenAngle + angleOffset;
    let r = sqrt(i) * scale;
    
    let x = r * cos(radians(angle));
    let y = r * sin(radians(angle));
    
    // Size pulses with position
    let size = map(sin(i * 0.1 + t), -1, 1, 1, 6);
    size *= map(i, 0, MAX_POINTS, 0.3, 1);
    
    // Color evolves with angle and radius
    let hue = (hueBase + i * 0.5 + r * 0.3) % 360;
    let sat = map(r, 0, min(width, height) * 0.5, 40, 80);
    let bri = map(i, 0, MAX_POINTS, 30, 100);
    let alpha = map(i, 0, MAX_POINTS, 0.4, 1);
    
    noStroke();
    fill(hue, sat, bri, alpha);
    ellipse(x, y, size, size);
    
    // Inner glow for outer points
    if (i > MAX_POINTS * 0.7) {
      fill(hue, sat - 20, bri + 20, alpha * 0.5);
      ellipse(x, y, size * 1.5, size * 1.5);
    }
  }
  
  // Central orb
  noStroke();
  for (let r = 40; r > 0; r -= 5) {
    fill(0, 0, 100, 0.03);
    ellipse(0, 0, r * 2);
  }
  
  t += 0.02;
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}
</script>
</body>
</html>
